<!DOCTYPE html>
<html><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>DO(Nâ€™T) REPEAT YOURSELF Â· Blog: Romain Berthon</title>



<link rel="stylesheet" href="/css/rocinante.css" />
<link rel="shortcut icon" href="favicon.ico">


<body>
    <header><h2>
  
    <a href="https://romaintrm.github.io/">â€¹ Blog: Romain Berthon</a>
  
</h2>
</header>
    <main>

    <div class="post">
        <div class="title-group">
            <div class="title">
                <h1>DO(Nâ€™T) REPEAT YOURSELF</h1>
            </div>
            <div class="date"><h5>May 26, 2021</h5></div>
        </div>
        <article class="content">
            <h2 id="un-biais-cognitif-et-un-usage-erronÃ©">UN BIAIS COGNITIF ET UN USAGE ERRONÃ‰</h2>
<p>Les dÃ©veloppeurs aiment bien les acronymes pour Ã©noncer des â€œbonnes pratiquesâ€ (KISS, DRY, SOLID, etcâ€¦). Souvent, lâ€™idÃ©e vÃ©hiculÃ©e par ceux-ci est trÃ¨s simple Ã  apprÃ©hender.<br>
Cependant, nous souffrons dâ€™un biais cognitif Ã©normeÂ : plus une information est simple Ã  intÃ©grer, moins elle est remise en question / challengÃ©e. Et celle-ci est encore mieux intÃ©grÃ©e si elle ne va pas en contradiction avec vos croyances.</p>
<p>DRY en est lâ€™exemple parfaitÂ :</p>
<ul>
<li>Lâ€™idÃ©e sous-jacente est simple Ã  comprendreÂ : si on doit appliquer un changement, on veut lâ€™appliquer Ã  un seul endroit.</li>
<li>DRY est assez connu et frÃ©quemment Ã©noncÃ© pour Ãªtre consciemment ou non Ã©tiquetÃ© comme Ã©tant une bonne pratique (et elle lâ€™est).</li>
<li>Sa mise en application est simple et ne nÃ©cessite pas, a priori, dâ€™effort intellectuel particulierÂ : mutualiser la moindre ligne de code dupliquÃ©e ou les concepts portant le mÃªme nom.</li>
</ul>
<p>Pourtant, il est frÃ©quent dâ€™observer ceciÂ : en travaillant sur une base de code, nous sommes amenÃ©s Ã  gÃ©rer des cas mÃ©tiers de plus en plus variÃ©s. Pour ce faire, on applique de plus en plus de conditions pour tester diffÃ©rents cas sur une mÃªme structure de donnÃ©es. Ceci peut Ãªtre un signe quâ€™il existe un problÃ¨me dâ€™abstraction.</p>
<p>Le premier enjeu du DRY est une meilleure gestion de la complexitÃ©, pourtant en lâ€™appliquant de maniÃ¨re aussi basique/dogmatique, on observe une augmentation de la complexitÃ©.</p>
<h2 id="dont-repeat-yourself-dÃ©finition">DONâ€™T REPEAT YOURSELF, DÃ‰FINITION</h2>
<p>Si on regarde plus en dÃ©tail le concept originelÂ : The DRY principle is stated as Â« Every piece of knowledge must have a single, unambiguous, authoritative representation within a system Â»  (source <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank">Wikipedia</a>).</p>
<p>Ici, câ€™est la notion de â€œpeace of knowledgeâ€ qui est la plus importante. On peut reprÃ©senter Ã  un instant T des concepts diffÃ©rents qui peuvent Ã©voluer de maniÃ¨re indÃ©pendante dans le temps. Utiliser le mÃªme bout de code pour les reprÃ©senter revient dâ€™une part Ã  les couplerÂ : si un concept doit Ã©voluer, alors il va aussi falloir agir sur lâ€™autre qui est liÃ©. Et dâ€™autre part Ã  crÃ©er une ambiguÃ¯tÃ© entre ces concepts qui rend la comprÃ©hension et la maintenance du code plus complexes.</p>
<h2 id="plusieurs-niveaux-de-lecture">PLUSIEURS NIVEAUX DE LECTURE</h2>
<h3 id="le-mÃªme-code-mais-pas-le-mÃªme-usage-mÃ©tier">LE MÃŠME CODE, MAIS PAS LE MÃŠME USAGE MÃ‰TIER</h3>
<p>On peut Ã©crire deux bouts de code identiques, mais qui ne reprÃ©sentent pas la mÃªme chose conceptuellement. Pour les identifier, on veut surtout chercher les raisons pour lesquelles ces bouts de code sont appelÃ©s.</p>
<h3 id="le-mÃªme-nom-mais-pas-le-mÃªme-concept-mÃ©tier">LE MÃŠME NOM, MAIS PAS LE MÃŠME CONCEPT MÃ‰TIER</h3>
<p>On peut avoir plusieurs concepts portant le mÃªme nom, mais qui nâ€™appartiennent pas au mÃªme contexteÂ : ils ne reprÃ©sentent pas la mÃªme chose. Des processus mÃ©tier diffÃ©rents, des informations diffÃ©rentes sont des bons signaux pour dire que ce sont des concepts distincts. Pour cela, des ateliers comme lâ€™event storming, sont Ã©galement de bons outils pour les identifier, et les patterns stratÃ©giques du DDD une bonne approche pour les sÃ©grÃ©guer.</p>
<h3 id="le-mÃªme-nom-mais-pas-le-mÃªme-usage">LE MÃŠME NOM, MAIS PAS LE MÃŠME USAGE</h3>
<p>Dans un mÃªme contexte mÃ©tier, il est encore possible de reprÃ©senter de diffÃ©rentes maniÃ¨res un mÃªme concept. Un exemple typique serait une simple web API qui expose, persiste de lâ€™information, et y applique de la logique mÃ©tierÂ : on peut avoir un modÃ¨le dÃ©diÃ© Ã  chacun de ces trois rÃ´les. Câ€™est dâ€™ailleurs la principale motivation derriÃ¨re des architectures comme lâ€™architecture en couche ou encore une architecture hexagonaleÂ : sÃ©grÃ©guer par usage technique. Des architectures comme CQRS vont encore plus loin en proposant un modÃ¨le dâ€™Ã©criture et des modÃ¨les de lecture dÃ©diÃ©s. Un mÃªme concept peut alors Ãªtre reprÃ©sentÃ© de plusieurs faÃ§ons en fonction du cas dâ€™usage.</p>
<h2 id="mon-heuristique">MON HEURISTIQUE</h2>
<p>Si dans un bout de code je retrouve les symptÃ´mes Ã©noncÃ©s prÃ©cÃ©demment (beaucoup de if sur un Ã©tat); alors mon heuristique est le suivantÂ : je duplique le code qui pose problÃ¨me et ensuite je supprime les conditions pour faire Ã©merger deux cas distincts.</p>
<p>Quand jâ€™ajoute un nouveau cas, si je le peux, jâ€™Ã©vite de prendre une dÃ©cision tout de suite, car je manque surement de connaissance et de feedbacks sur mon design. Dans ce cas, je duplique lâ€™existant et je lâ€™adapte. Si je me retrouve plus tard Ã  devoir faire des modifications Ã  deux endroits, alors il y a peut-Ãªtre une opportunitÃ© pour mutualiser du code.</p>
<h2 id="les-bÃ©nÃ©fices-du-dont-repeat-yourself">LES BÃ‰NÃ‰FICES DU DO(Nâ€™T) REPEAT YOURSELF</h2>
<p>En ne systÃ©matisant pas la mutualisation du code, on en augmente sa quantitÃ© (plus de classes, de mÃ©thodes), mais on rÃ©duit sa complexitÃ©. Un bout de code est utilisÃ© idÃ©alement dans un seul cas mÃ©tier. Il est donc beaucoup plus simple Ã  apprÃ©hender dâ€™un point de vue cognitif, et donc plus simple Ã  modifier puisquâ€™il ne faut pas se soucier dâ€™autres cas en mÃªme temps. Cela rÃ©duit Ã©galement le nombre dâ€™effets de bords et donc de bugs potentiels.</p>

        </article>
        
            <div class="tags">
                <span title="Tags">ğŸ·</span>
                <div class="horizontal-links links">
                    <a href="/tags/post/">Post</a>
                </div>
            </div>
        
    </article>


    </main>
    <footer>
  <div class="content-container">
    <div class="content">Software developer, *DD and F# enthusiast


  <p class="horizontal-links"><a href="https://github.com/RomainTrm"
        target="_blank" 
       
      >Github</a><a href="https://twitter.com/RomainTrm"
        target="_blank" 
       
      >Twitter</a><a href="https://bsky.app/profile/romaintrm.bsky.social"
        target="_blank" 
       
      >Bsky</a><a href="https://fr.linkedin.com/in/romain-berthon-254977101"
        target="_blank" 
       
      >LinkedIn</a></p>

</div>
  </div>
</footer>
    
    <script>
      const emailId = atob("");
    </script></body>
</html>
